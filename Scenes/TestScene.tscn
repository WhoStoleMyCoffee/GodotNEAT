[gd_scene load_steps=3 format=2]

[ext_resource path="res://NEAT/NEATDisplayer.gd" type="Script" id=1]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D


var pop : NEATPopulation
var di : int = 0


func _ready():
	pop = NEATPopulation.new(10, 10, 3,1)
	$NEATDisplayer.set_drawing_nn(pop.genomes[0])


func _input(event):
	if Input.is_action_just_pressed(\"ui_right\"):
		di = (di+1) % pop.genomes.size()
		$NEATDisplayer.set_drawing_nn(pop.genomes[di])
		
	if Input.is_action_just_pressed(\"ui_left\"):
		di = (di-1) % pop.genomes.size()
		$NEATDisplayer.set_drawing_nn(pop.genomes[di])

#	var pop : NEATPopulation = NEATPopulation.new(2, 0, 3,1)
#	var nn1 : NEATNN = pop.genomes[0]
#	var nn2 : NEATNN = pop.genomes[1]
#
#	nn1.add_connection(pop.create_connection(0,3, 0, true))
#	nn1.add_connection(pop.create_connection(1,3, 0, false))
#	nn1.add_connection(pop.create_connection(2,3, 0, true))
#	nn1.add_connection(pop.create_connection(1,4, 0, true))
#	nn1.add_connection(pop.create_connection(4,3, 0, true))
#
#	nn2.add_connection(pop.create_connection(0,3, 0, true))
#	nn2.add_connection(pop.create_connection(1,3, 0, false))
#	nn2.add_connection(pop.create_connection(2,3, 0, true))
#	nn2.add_connection(pop.create_connection(1,4, 0, true))
#	nn2.add_connection(pop.create_connection(4,3, 0, false))
#
#	nn2.add_connection(pop.create_connection(4,5, 0, true))
#	nn2.add_connection(pop.create_connection(5,3, 0, true))
#
#	nn1.add_connection(pop.create_connection(0,4, 0, true))
#
#	nn2.add_connection(pop.create_connection(2,4, 0, true))
#	nn2.add_connection(pop.create_connection(0,5, 0, true))
#
#	nn1.print_data()
#	nn2.print_data()
#
#
#	var child : NEATNN = NeatUtil.crossover(nn2, nn1)
#
#	child.print_data()
"

[node name="TestScene" type="Node2D"]
script = SubResource( 1 )

[node name="NEATDisplayer" type="ReferenceRect" parent="."]
margin_left = 16.0
margin_top = 16.0
margin_right = 528.0
margin_bottom = 272.0
rect_min_size = Vector2( 512, 256 )
script = ExtResource( 1 )
connection_width = 1.0
do_draw_node_id = true
